{"version":3,"sources":["components/astrology/chatList/ChatList.js","assets/img/astrologin-bg.jpg"],"names":["ChatList","_React$Component","props","_this","_classCallCheck","handleDeleteList","deleteId","axiosConfig","get","concat","then","resp","getuserList","console","log","data","catch","err","componentDidMount","userId","JSON","parse","localStorage","getItem","response","status","setState","allUserList","error","handleChating","selectedId","handleBalacecheck","astroId","userid","astroid","type","post","history","push","pathname","state","swal","fullname","all_skills","language","long_bio","Exp","sunday","monday","friday","thursday","tuesday","wednesday","saturday","To","callCharge","Form","astrid","astroMobile","Gallary","astro","avg_rating","modal","toggle","bind","_assertThisInitialized","_inherits","_createClass","key","value","this","_this2","React","createElement","LayoutOne","headerTop","className","style","float","width","backgroundColor","position","backgroundAttachment","backgroundSize","color","padding","backgroundImage","astrologinbg","backgroundPosition","backgroundRepeat","textAlign","Container","Row","Col","md","Link","to","length","map","list","_id","firstname","cursor","onClick","class","aria-hidden","birthPlace","date_of_time","dob","gender","mobile","occupation","marital_status","p_birthPlace","p_date_of_time","p_firstname","p_lastname","Modal","size","maxWidth","isOpen","ModalHeader","ModalBody","Button","Component","module","exports"],"mappings":"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","file":"static/js/169.d4d1e540.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container, Row, Col, Button } from \"reactstrap\";\r\nimport LayoutOne from \"../../../layouts/LayoutOne\";\r\nimport astrologinbg from \"../../../assets/img/astrologin-bg.jpg\";\r\nimport axiosConfig from \"../../../axiosConfig\";\r\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\";\r\nimport swal from \"sweetalert\";\r\n\r\nclass ChatList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      allUserList: [],\r\n      data: {},\r\n      fullname: \"\",\r\n      all_skills: \"\",\r\n      language: \"\",\r\n      long_bio: \"\",\r\n      Exp: \"\",\r\n      sunday: \"\",\r\n      monday: \"\",\r\n      friday: \"\",\r\n      thursday: \"\",\r\n      tuesday: \"\",\r\n      wednesday: \"\",\r\n      saturday: \"\",\r\n      To: \"\",\r\n      callCharge: \"\",\r\n      Form: \"\",\r\n      astrid: \"\",\r\n      userid: \"\",\r\n      astroMobile: \"\",\r\n      Gallary: [],\r\n      astroId: \"\",\r\n      astro: \"\",\r\n      avg_rating: [false],\r\n    };\r\n\r\n    this.state = {\r\n      modal: false,\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n    });\r\n  }\r\n\r\n  handleDeleteList = deleteId => {\r\n    axiosConfig\r\n      .get(`admin/dlt_ChatIntek/${deleteId}`)\r\n      .then(resp => {\r\n        this.getuserList();\r\n        console.log(\"resp\", resp.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"er\", err);\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getuserList();\r\n  };\r\n  getuserList = () => {\r\n    let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    // console.log(\"userId\", userId);\r\n    axiosConfig\r\n      .get(`/admin/intekListByUser/${userId}`)\r\n      .then(response => {\r\n        if (response.data.status === true) {\r\n          this.setState({ allUserList: response.data.data });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  handleChating = selectedId => {\r\n    this.handleBalacecheck();\r\n\r\n    // let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    // let mobileNo = JSON.parse(localStorage.getItem(\"user_mobile_no\"));\r\n    // console.log(\"USer\", mobileNo);\r\n    // let object = {\r\n    //   chatIntekId: selectedId,\r\n    //   userId: userId,\r\n    //   astroId: this.state.astroId,\r\n    // };\r\n    // let obj = {\r\n    //   userid: userId,\r\n    //   astroid: this.state.astroId,\r\n    //   From: this.state.mobile, //astro no\r\n    //   To: mobileNo, //user no\r\n    // };\r\n    // console.log(\"obj\", obj);\r\n    // axiosConfig\r\n    //   .post(`/user/selectIntakeForm`, object)\r\n    //   .then(ress => {\r\n    //     if (ress.data.status === true) {\r\n    //       this.props.history.push(\"/chatApp\");\r\n    //     }\r\n    //     console.log(\"asss\", ress.data.status);\r\n    //   })\r\n\r\n    //   .catch(err => {\r\n    //     console.log(\"err\", err);\r\n    //   });\r\n  };\r\n\r\n  handleBalacecheck = () => {\r\n    let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    // let { id } = this.props.match.params;\r\n    let astroId = localStorage.getItem(\"astroId\");\r\n    console.log(\"astroId\", astroId);\r\n\r\n    const data = {\r\n      userid: userId,\r\n      astroid: astroId,\r\n      type: \"Chat\",\r\n    };\r\n\r\n    axiosConfig\r\n      .post(`/user/addCallWallet`, data)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        if (response.data.status === true) {\r\n          this.props.history.push({\r\n            pathname: \"/waitingpagechat\",\r\n            state: response.data,\r\n          });\r\n        } else swal(\"Recharge\", \"you don't have enough Balance\");\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  render() {\r\n    const { allUserList } = this.state;\r\n    return (\r\n      <LayoutOne headerTop=\"visible\">\r\n        <section className=\"pt-0 pb-0\">\r\n          <div\r\n            className=\"\"\r\n            style={{\r\n              float: \"left\",\r\n              width: \"100%\",\r\n              backgroundColor: \"#272727\",\r\n              position: \"relative\",\r\n              backgroundAttachment: \"fixed\",\r\n              backgroundSize: \"cover\",\r\n              color: \"#ffffff\",\r\n              padding: \" 50px 0px 50px 0px\",\r\n              backgroundImage: `url(${astrologinbg})`,\r\n              backgroundPosition: \"center center\",\r\n              backgroundRepeat: \" no-repeat\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <Container>\r\n              <Row>\r\n                <Col md=\"12\">\r\n                  <div className=\"leftcont text-left\">\r\n                    <h1 style={{ color: \"#fff\" }}>User Chat List </h1>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        </section>\r\n        <div className=\"col-lg-12 col-md-12 mb-30\">\r\n          <div className=\"category-home\">\r\n            <section className=\"pt-0\">\r\n              <Container>\r\n                <Row>\r\n                  <div className=\"my-1\">\r\n                    <Link to=\"/userrequestform\" className=\"btn btn-denger wr\">\r\n                      <button className=\"btn btn-denger wr\">\r\n                        Add New Intake Form\r\n                      </button>\r\n                    </Link>\r\n                  </div>\r\n                  {allUserList?.length ? (\r\n                    allUserList?.map(list => {\r\n                      return (\r\n                        <Col md=\"4\" key={list._id} className=\"mt-1\">\r\n                          <div className=\"card \">\r\n                            <div className=\"card-body \">\r\n                              <ul>\r\n                                <li className=\"\">\r\n                                  FirstName:\r\n                                  <span>{list.firstname}</span>\r\n                                  <div\r\n                                    className=\"delete\"\r\n                                    style={{\r\n                                      float: \"right\",\r\n                                      cursor: \"pointer\",\r\n                                    }}\r\n                                    onClick={() =>\r\n                                      this.handleDeleteList(list._id)\r\n                                    }\r\n                                  >\r\n                                    <i\r\n                                      class=\"fa fa-trash-o\"\r\n                                      aria-hidden=\"true\"\r\n                                    ></i>\r\n                                  </div>\r\n                                </li>\r\n                                {/* <li>\r\n                                    LastName:\r\n                                    <span>{list.lastname}</span>\r\n                                  </li> */}\r\n                                <li>\r\n                                  BirthPlace:\r\n                                  <span>{list.birthPlace}</span>\r\n                                </li>\r\n                                <li>\r\n                                  Date Of Time:\r\n                                  <span>{list.date_of_time}</span>\r\n                                </li>\r\n                                <li>\r\n                                  Date Of Birth:\r\n                                  <span>{list.dob}</span>\r\n                                </li>\r\n                                <li>\r\n                                  Gender:\r\n                                  <span>{list.gender}</span>\r\n                                </li>\r\n                                <li>\r\n                                  Mobile:\r\n                                  <span>{list.mobile}</span>\r\n                                </li>\r\n                                <li>\r\n                                  Occupation:\r\n                                  <span>{list.occupation}</span>\r\n                                </li>\r\n                                <li>\r\n                                  Marital Status:\r\n                                  <span>{list.marital_status}</span>\r\n                                </li>\r\n                                {list.p_birthPlace ? (\r\n                                  <li>\r\n                                    Partner BirthPlace:\r\n                                    <span>{list.p_birthPlace}</span>\r\n                                  </li>\r\n                                ) : null}\r\n                                {list.p_date_of_time ? (\r\n                                  <li>\r\n                                    Partner Date Of Time:\r\n                                    <span>{list.p_date_of_time}</span>\r\n                                  </li>\r\n                                ) : null}\r\n                                {list.p_firstname ? (\r\n                                  <li>\r\n                                    Partner First Name:\r\n                                    <span>{list.p_firstname}</span>\r\n                                  </li>\r\n                                ) : null}\r\n                                {list.p_lastname ? (\r\n                                  <li>\r\n                                    Partner Last Name:\r\n                                    <span>{list.p_lastname}</span>\r\n                                  </li>\r\n                                ) : null}\r\n\r\n                                <div style={{ float: \"right\" }}>\r\n                                  <button\r\n                                    className=\"btn btn-denger wr\"\r\n                                    onClick={() =>\r\n                                      this.handleBalacecheck(list._id)\r\n                                    }\r\n                                  >\r\n                                    Start Chat\r\n                                  </button>\r\n                                </div>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                        </Col>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <h3 className=\"text-center\">No Intake Form Available</h3>\r\n                  )}\r\n                </Row>\r\n              </Container>\r\n            </section>\r\n          </div>\r\n        </div>\r\n\r\n        {/* modal for recharge*/}\r\n        <Modal\r\n          size=\"md\"\r\n          style={{ maxWidth: \"600px\", width: \"100%\" }}\r\n          isOpen={this.state.modal}\r\n          toggle={this.toggle}\r\n          className={this.props.className}\r\n        >\r\n          <ModalHeader className=\"wr-3\" toggle={this.toggle}>\r\n            <h2 className=\"wr-4\">Recharge Now</h2>\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <div className=\"Wr-1\">\r\n              <h3>\r\n                Minimum balance of 5 minutes (INR 25.0) is required to start\r\n                call with RajnishM\r\n              </h3>\r\n              <Link className=\"wr-5\">\r\n                <Button color=\"secondary\" onClick={this.toggle}>\r\n                  Cancel\r\n                </Button>\r\n              </Link>\r\n              <Link className=\"wr-6\" to=\"/walletmoney\">\r\n                <Button>Recharge</Button>\r\n              </Link>\r\n            </div>\r\n          </ModalBody>\r\n        </Modal>\r\n      </LayoutOne>\r\n    );\r\n  }\r\n}\r\nexport default ChatList;\r\n","module.exports = __webpack_public_path__ + \"static/media/astrologin-bg.f858568c.jpg\";"],"sourceRoot":""}