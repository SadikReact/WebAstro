{"version":3,"sources":["components/WaitingPage/WaitingPageChat.js","wrappers/breadcrumb/Breadcrumb.js"],"names":["connect","state","cartItems","cartData","wishlistItems","wishlistData","currency","currencyData","dispatch","addToCart","item","addToast","quantityCount","addToWishlist","deleteFromWishlist","deleteAllFromWishlist","_ref","_mylocation$state","_mylocation$state$dat","_history$location","_history$location$sta","_history$location$sta2","_mylocation$state2","_mylocation$state2$da","_history$location2","_history$location2$st","_history$location2$st2","location","intervalRef","args","useRef","pathname","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","_useState5","_useState6","history","useHistory","mylocation","useLocation","console","log","data","astroid","useEffect","localStorage","getItem","current","setInterval","_mylocation$state3","_mylocation$state4","JSON","parse","_id","id","sessionStorage","axiosConfig","get","concat","then","res","_res$data","_res$data$data","_res$data2","_res$data2$data","_res$data$data2","status","type","swal","clearInterval","push","catch","err","React","createElement","Fragment","BreadcrumbsItem","to","process","LayoutOne","headerTop","Breadcrumb","style","padding","Container","className","Breadcrumbs","separator","NavLink","finalItem"],"mappings":"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","file":"static/js/159.f9c7ea02.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState, useEffect, useRef } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport {\r\n  addToWishlist,\r\n  deleteFromWishlist,\r\n  deleteAllFromWishlist,\r\n} from \"../../redux/actions/wishlistActions\";\r\nimport { addToCart } from \"../../redux/actions/cartActions\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport axiosConfig from \"../../axiosConfig\";\r\nimport { Button, Col, Container, Row } from \"reactstrap\";\r\n// import { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n\r\nconst Waitingpage = ({ location, args }) => {\r\n  const intervalRef = useRef();\r\n  const { pathname } = location;\r\n  const [order, setOrder] = useState([]);\r\n  const [Refund, setRefund] = useState({});\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const mylocation = useLocation();\r\n  console.log(mylocation?.state?.data?.astroid);\r\n  console.log(history?.location?.state?.data?.astroid);\r\n  let waitingId =\r\n    mylocation?.state?.data?.astroid || history?.location?.state?.data?.astroid;\r\n  const toggle = () => setModal(!modal);\r\n  const fetchOrder = async () => {\r\n    let userid = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    const { data } = await axiosConfig.get(`/user/myOrders/${userid}`);\r\n    const order = data.data;\r\n    setOrder(order);\r\n    console.log(order);\r\n  };\r\n  const hanleopenmodal = (e, data) => {\r\n    e.preventDefault();\r\n    setRefund(data);\r\n    console.log(data);\r\n    toggle();\r\n  };\r\n\r\n  const handlegetAcceptAstro = () => {\r\n    intervalRef.current = setInterval(() => {\r\n      let userid = JSON.parse(localStorage.getItem(\"user_id\"));\r\n      console.log(mylocation.state?._id);\r\n      let id =\r\n        mylocation?.state?._id || sessionStorage.getItem(\"notificationdata\");\r\n      console.log(id);\r\n      axiosConfig\r\n        .get(`/user/getOnenotificationByastro/${id}`)\r\n        .then(res => {\r\n          if (\r\n            res?.data?.data?.status === \"Accept\" &&\r\n            res?.data?.data?.type === \"Chat\"\r\n          ) {\r\n            swal(\"Astro is now Accepted Your Request\");\r\n            clearInterval(intervalRef.current);\r\n            history.push(\"/chatApp\");\r\n\r\n            axiosConfig\r\n              .get(`/admin/dltNotificattion/${res.data.data?._id}`)\r\n              .then(res => {\r\n                // clearInterval(intervalRef.current);\r\n              })\r\n              .catch(err => {\r\n                console.log(err);\r\n              });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          // console.log(err);\r\n        });\r\n    }, 5000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(\"myLocation\", mylocation);\r\n    if (localStorage.getItem(\"user_id\") && mylocation) {\r\n      handlegetAcceptAstro();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Waiting Chat Page\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        <Breadcrumb />\r\n        <section style={{ padding: \"180px 0px\" }}>\r\n          <Container>\r\n            <div className=\"d-flex justify-content-center align-item-center\">\r\n              <h3>Wait Till Astrologer Accept Your Request...</h3>\r\n            </div>\r\n          </Container>\r\n        </section>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nWaitingpage.propTypes = {\r\n  addToCart: PropTypes.func,\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  location: PropTypes.object,\r\n  deleteAllFromWishlist: PropTypes.func,\r\n  deleteFromWishlist: PropTypes.func,\r\n  wishlistItems: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    wishlistItems: state.wishlistData,\r\n    currency: state.currencyData,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    addToWishlist: (item, addToast, quantityCount) => {\r\n      dispatch(addToWishlist(item, addToast, quantityCount));\r\n    },\r\n    deleteFromWishlist: (item, addToast, quantityCount) => {\r\n      dispatch(deleteFromWishlist(item, addToast, quantityCount));\r\n    },\r\n    deleteAllFromWishlist: addToast => {\r\n      dispatch(deleteAllFromWishlist(addToast));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Waitingpage);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Breadcrumbs } from \"react-breadcrumbs-dynamic\";\r\n\r\nconst Breadcrumb = () => {\r\n  return (\r\n    <div className=\"breadcrumb-area pt-10 pb-10 bg-gray-5\">\r\n      <div className=\"container\">\r\n        <div className=\"breadcrumb-content text-center\">\r\n          <Breadcrumbs\r\n            separator={<span>/</span>}\r\n            item={NavLink}\r\n            finalItem={\"span\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breadcrumb;\r\n"],"sourceRoot":""}